import { PrismaService } from '../prisma/prisma.service';
import { CreateBordereauDto } from './dto/create-bordereau.dto';
import { UpdateBordereauDto } from './dto/update-bordereau.dto';
import { AssignBordereauDto } from './dto/assign-bordereau.dto';
import { Document as PrismaDocument } from '@prisma/client';
import { BordereauResponseDto } from './dto/bordereau-response.dto';
import { BordereauKPI } from './interfaces/kpi.interface';
import { CreateBSDto } from './dto/bs.dto';
import { AlertsService } from 'src/alerts/alerts.service';
import { Prisma } from '@prisma/client';
import { UpdateBulletinSoinDto } from 'src/bulletin-soin/dto/update-bulletin-soin.dto';
export declare class BordereauxService {
    private readonly prisma;
    private readonly alertsService;
    seedComplaints(): Promise<any>;
    seedTestData(): Promise<any>;
    private readonly logger;
    auditLogService: any;
    constructor(prisma: PrismaService, alertsService: AlertsService);
    create(createBordereauDto: CreateBordereauDto): Promise<BordereauResponseDto>;
    findAll(): Promise<BordereauResponseDto[]>;
    updateBordereauStatus(bordereauId: string): Promise<void>;
    findOne(id: string): Promise<BordereauResponseDto>;
    update(id: string, updateBordereauDto: UpdateBordereauDto): Promise<BordereauResponseDto>;
    remove(id: string): Promise<BordereauResponseDto>;
    assignBordereau(assignDto: AssignBordereauDto): Promise<BordereauResponseDto>;
    private autoAssignBordereau;
    getApproachingDeadlines(): Promise<BordereauResponseDto[]>;
    getOverdueBordereaux(): Promise<BordereauResponseDto[]>;
    getBordereauKPIs(): Promise<BordereauKPI[]>;
    exportCSV(): Promise<string>;
    exportExcel(): Promise<Buffer<ArrayBuffer>>;
    exportPDF(): Promise<Buffer<ArrayBuffer>>;
    startScan(id: string): Promise<BordereauResponseDto>;
    completeScan(id: string): Promise<BordereauResponseDto>;
    markAsProcessed(id: string): Promise<BordereauResponseDto>;
    closeBordereau(id: string): Promise<BordereauResponseDto>;
    getBSList(bordereauId: string): Promise<({
        owner: {
            password: string;
            id: string;
            email: string;
            fullName: string;
            role: string;
            department: string | null;
            active: boolean;
            createdAt: Date;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        priority: number;
        bordereauId: string;
        ownerId: string | null;
        processedAt: Date | null;
        nomPrestation: string;
        nomBordereau: string;
        lien: string;
        dateCreation: Date;
        dateMaladie: Date;
        totalPec: number;
        observationGlobal: string;
        montant: number | null;
        ocrText: string | null;
        numBs: string;
        codeAssure: string;
        nomAssure: string;
        nomBeneficiaire: string;
        nomSociete: string;
        etat: string;
        matricule: string | null;
        dateSoin: Date | null;
        acte: string | null;
        processedById: string | null;
        dueDate: Date | null;
        virementId: string | null;
        deletedAt: Date | null;
    })[]>;
    createBS(bordereauId: string, dto: CreateBSDto): Promise<{
        owner: {
            password: string;
            id: string;
            email: string;
            fullName: string;
            role: string;
            department: string | null;
            active: boolean;
            createdAt: Date;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        priority: number;
        bordereauId: string;
        ownerId: string | null;
        processedAt: Date | null;
        nomPrestation: string;
        nomBordereau: string;
        lien: string;
        dateCreation: Date;
        dateMaladie: Date;
        totalPec: number;
        observationGlobal: string;
        montant: number | null;
        ocrText: string | null;
        numBs: string;
        codeAssure: string;
        nomAssure: string;
        nomBeneficiaire: string;
        nomSociete: string;
        etat: string;
        matricule: string | null;
        dateSoin: Date | null;
        acte: string | null;
        processedById: string | null;
        dueDate: Date | null;
        virementId: string | null;
        deletedAt: Date | null;
    }>;
    updateBS(bsId: string, dto: UpdateBulletinSoinDto): Promise<{
        owner: {
            password: string;
            id: string;
            email: string;
            fullName: string;
            role: string;
            department: string | null;
            active: boolean;
            createdAt: Date;
        } | null;
    } & {
        id: string;
        createdAt: Date;
        updatedAt: Date;
        priority: number;
        bordereauId: string;
        ownerId: string | null;
        processedAt: Date | null;
        nomPrestation: string;
        nomBordereau: string;
        lien: string;
        dateCreation: Date;
        dateMaladie: Date;
        totalPec: number;
        observationGlobal: string;
        montant: number | null;
        ocrText: string | null;
        numBs: string;
        codeAssure: string;
        nomAssure: string;
        nomBeneficiaire: string;
        nomSociete: string;
        etat: string;
        matricule: string | null;
        dateSoin: Date | null;
        acte: string | null;
        processedById: string | null;
        dueDate: Date | null;
        virementId: string | null;
        deletedAt: Date | null;
    }>;
    updateBordereauStatusFromBS(bordereauId: string): Promise<{
        total: number;
        validated: number;
        progress: number;
    }>;
    getDocuments(bordereauId: string): Promise<{
        id: string;
        name: string;
        bordereauId: string | null;
        type: string;
        status: import(".prisma/client").$Enums.DocumentStatus | null;
        uploadedById: string;
        path: string;
        uploadedAt: Date;
        ocrResult: Prisma.JsonValue | null;
        hash: string | null;
        ocrText: string | null;
    }[]>;
    getVirement(bordereauId: string): Promise<{
        id: string;
        createdAt: Date;
        priority: number;
        bordereauId: string;
        montant: number;
        referenceBancaire: string;
        dateDepot: Date;
        dateExecution: Date;
        confirmed: boolean;
        confirmedById: string | null;
        confirmedAt: Date | null;
    } | null>;
    getAlerts(bordereauId: string): Promise<{
        id: string;
        createdAt: Date;
        documentId: string | null;
        bordereauId: string | null;
        userId: string | null;
        alertType: string;
        alertLevel: string;
        message: string;
        notifiedRoles: string[];
        resolved: boolean;
        resolvedAt: Date | null;
    }[]>;
    uploadDocument(bordereauId: string, documentData: any): Promise<PrismaDocument>;
    analyzeReclamationsAI(): Promise<any>;
    getReclamationSuggestions(id: string): Promise<any>;
    getTeamRecommendations(): Promise<any>;
    private logAction;
    findUnassigned(): Promise<BordereauResponseDto[]>;
    findByTeam(teamId: string): Promise<BordereauResponseDto[]>;
    findByUser(userId: string): Promise<BordereauResponseDto[]>;
    returnBordereau(id: string, reason: string): Promise<BordereauResponseDto>;
    forecastBordereaux(days?: number): Promise<{
        forecast: number;
        dailyAverage: number;
    }>;
    estimateStaffing(days?: number, avgPerStaffPerDay?: number): Promise<{
        forecast: number;
        staffNeeded: number;
    }>;
    getPredictResourcesAI(payload: any): Promise<any>;
    analyzeComplaintsAI(): Promise<{
        message: string;
        analysis?: any;
    }>;
    updateThresholds(id: string, thresholds: any): Promise<{
        id: string;
        createdAt: Date;
        clientId: string;
        clientName: string;
        delaiReglement: number;
        delaiReclamation: number;
        escalationThreshold: number | null;
        documentPath: string;
        assignedManagerId: string;
        startDate: Date;
        endDate: Date;
        signature: string | null;
        updatedAt: Date;
        version: number;
        thresholds: Prisma.JsonValue | null;
    }>;
    getAIRecommendations(): Promise<{
        message: string;
        recommendations?: any[];
    }>;
    searchBordereauxAndDocuments(query: string): Promise<any[]>;
}
